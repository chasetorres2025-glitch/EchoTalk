## 真人语音对话Web测试模块开发计划

### 功能需求
开发一个Web页面，支持真人验证语音对话流程：
1. 点击按钮录音（使用浏览器Web Audio API）
2. 自动语音识别（ASR）
3. AI对话生成回复
4. 语音合成（TTS）自动播放
5. 显示对话历史

### 技术方案
**后端（Flask）:**
- 创建新的Blueprint: `test_voice`
- 提供API端点:
  - `POST /api/test/asr` - 接收音频文件，返回识别文字
  - `POST /api/test/chat` - 接收文字，返回AI回复
  - `POST /api/test/tts` - 接收文字，返回音频文件

**前端（HTML + JavaScript）:**
- 使用Web Audio API录音
- 使用Web Speech API或后端TTS播放
- 实时显示对话状态
- 美观的UI界面

### 实现步骤
1. 创建后端路由 `app/routes/test_voice.py`
2. 创建前端页面 `templates/test_voice.html`
3. 实现录音功能（MediaRecorder API）
4. 实现音频播放功能
5. 整合ASR -> Chat -> TTS流程
6. 添加样式美化

### 访问方式
启动Flask后访问: `http://localhost:5050/test-voice`

### 页面功能
- 大按钮: 按住录音/点击录音
- 状态显示: 录音中/识别中/思考中/播放中
- 对话历史: 显示用户和AI的对话记录
- 设置选项: 选择音色、录音时长等

请确认此计划后，我将开始实施。