<view class="article-container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{isLoading}}" class="loading-section">
    <view class="loading-spinner"></view>
    <text class="loading-text">æ­£åœ¨ç”Ÿæˆæ‚¨çš„å›å¿†å½•...</text>
  </view>

  <!-- æ–‡ç« å†…å®¹ -->
  <view wx:else class="content-section">
    <!-- æ ‡é¢˜ -->
    <view class="article-header">
      <text class="article-title">{{article.title}}</text>
      <text class="article-date">{{article.create_time}}</text>
    </view>

    <!-- ç¼–è¾‘æ¨¡å¼ -->
    <view wx:if="{{isEditing}}" class="edit-section">
      <textarea
        class="edit-textarea"
        value="{{editContent}}"
        bindinput="onContentInput"
        placeholder="ç¼–è¾‘æ‚¨çš„å›å¿†å½•..."
        maxlength="-1"
        auto-height
      />
      <view class="edit-actions">
        <button class="btn-cancel" bindtap="onCancelEdit">å–æ¶ˆ</button>
        <button class="btn-confirm" bindtap="onSaveEdit">ä¿å­˜ä¿®æ”¹</button>
      </view>
    </view>

    <!-- é˜…è¯»æ¨¡å¼ -->
    <scroll-view wx:else class="article-content" scroll-y enhanced show-scrollbar>
      <text class="article-text">{{article.content}}</text>
    </scroll-view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view wx:if="{{!isEditing}}" class="action-section">
      <button class="action-btn {{isPlaying ? 'playing' : ''}}" bindtap="playArticle">
        <text class="btn-icon">{{isPlaying ? 'â¸ï¸' : 'â–¶ï¸'}}</text>
        <text class="btn-label">{{isPlaying ? 'æš‚åœæœ—è¯»' : 'å¬ä¸€å¬'}}</text>
      </button>

      <button class="action-btn" bindtap="onEdit">
        <text class="btn-icon">âœï¸</text>
        <text class="btn-label">ä¿®æ”¹</text>
      </button>

      <button class="action-btn save-btn" bindtap="onSaveArticle">
        <text class="btn-icon">ğŸ’¾</text>
        <text class="btn-label">ä¿å­˜</text>
      </button>
    </view>
  </view>
</view>
