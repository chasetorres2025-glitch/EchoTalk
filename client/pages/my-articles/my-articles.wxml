<view class="container">
  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{!isLoading && articles.length === 0}}" class="empty-section">
    <text class="empty-icon">ğŸ“–</text>
    <text class="empty-title">è¿˜æ²¡æœ‰å›å¿†å½•</text>
    <text class="empty-desc">å¼€å§‹è®²è¿°æ‚¨çš„æ•…äº‹ï¼Œåˆ›å»ºç¬¬ä¸€ç¯‡å›å¿†å½•å§</text>
    <button class="btn-primary start-btn" bindtap="onStartNewStory">
      å¼€å§‹è®²æ•…äº‹
    </button>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view wx:elif="{{isLoading}}" class="loading-section">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ–‡ç« åˆ—è¡¨ -->
  <view wx:else class="articles-section">
    <view class="section-header">
      <text class="section-title">æˆ‘çš„æ–‡ç« </text>
      <text class="article-count">å…± {{articles.length}} ç¯‡</text>
    </view>

    <scroll-view class="article-list" scroll-y enhanced show-scrollbar>
      <view
        wx:for="{{articles}}"
        wx:key="id"
        class="article-card"
        bindtap="onArticleTap"
        data-id="{{item.id}}"
      >
        <view class="card-content">
          <text class="article-title">{{item.title}}</text>
          <text class="article-preview">{{item.preview}}</text>
        </view>
        <view class="card-footer">
          <text class="article-date">{{formatDate(item.create_time)}}</text>
          <text class="article-status {{item.status === 2 ? 'saved' : 'draft'}}">
            {{item.status === 2 ? 'å·²ä¿å­˜' : 'è‰ç¨¿'}}
          </text>
        </view>
      </view>
    </scroll-view>

    <button class="btn-primary new-story-btn" bindtap="onStartNewStory">
      + æ–°å»ºå›å¿†å½•
    </button>
  </view>
</view>
