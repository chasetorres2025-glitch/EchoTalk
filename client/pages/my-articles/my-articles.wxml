<view class="articles-page">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="header-bg"></view>
    <view class="header-content">
      <text class="page-title">æˆ‘çš„æ–‡ç« </text>
      <text class="page-subtitle" wx:if="{{!isLoading && articles.length > 0}}">å…± {{articles.length}} ç¯‡å›å¿†å½•</text>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{!isLoading && articles.length === 0}}" class="empty-state">
    <view class="empty-illustration">
      <view class="empty-circle">
        <text class="empty-icon">ğŸ“–</text>
      </view>
      <view class="floating-icons">
        <text class="float-icon icon-1">âœ¨</text>
        <text class="float-icon icon-2">ğŸ“</text>
        <text class="float-icon icon-3">ğŸ’­</text>
      </view>
    </view>
    <text class="empty-title">è¿˜æ²¡æœ‰å›å¿†å½•</text>
    <text class="empty-desc">å¼€å§‹è®²è¿°æ‚¨çš„æ•…äº‹ï¼Œåˆ›å»ºç¬¬ä¸€ç¯‡å›å¿†å½•å§</text>
    <button class="btn-primary create-btn" bindtap="onStartNewStory">
      <text class="btn-icon">ğŸ™ï¸</text>
      <text>å¼€å§‹è®²æ•…äº‹</text>
    </button>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view wx:elif="{{isLoading}}" class="loading-state">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ–‡ç« åˆ—è¡¨ -->
  <view wx:else class="articles-container">
    <scroll-view class="articles-list" scroll-y enhanced show-scrollbar>
      <!-- ç»Ÿè®¡å¡ç‰‡ -->
      <view class="stats-card">
        <view class="stat-item">
          <text class="stat-number">{{articles.length}}</text>
          <text class="stat-label">æ€»ç¯‡æ•°</text>
        </view>
        <view class="stat-divider"></view>
        <view class="stat-item">
          <text class="stat-number">{{savedCount}}</text>
          <text class="stat-label">å·²ä¿å­˜</text>
        </view>
        <view class="stat-divider"></view>
        <view class="stat-item">
          <text class="stat-number">{{draftCount}}</text>
          <text class="stat-label">è‰ç¨¿</text>
        </view>
      </view>

      <!-- æ–‡ç« å¡ç‰‡åˆ—è¡¨ -->
      <view class="articles-grid">
        <view
          wx:for="{{articles}}"
          wx:key="id"
          class="article-item"
          bindtap="onArticleTap"
          data-id="{{item.id}}"
        >
          <view class="article-card">
            <!-- å¡ç‰‡è£…é¥° -->
            <view class="card-accent {{item.status === 2 ? 'saved' : 'draft'}}"></view>
            
            <!-- å¡ç‰‡å†…å®¹ -->
            <view class="card-body">
              <view class="card-header-row">
                <text class="article-title">{{item.title || 'æœªå‘½åå›å¿†å½•'}}</text>
                <view class="status-tag {{item.status === 2 ? 'saved' : 'draft'}}">
                  <text class="status-dot"></text>
                  <text>{{item.status === 2 ? 'å·²ä¿å­˜' : 'è‰ç¨¿'}}</text>
                </view>
              </view>
              
              <text class="article-preview">{{item.preview || 'æš‚æ— é¢„è§ˆå†…å®¹...'}}</text>
              
              <view class="card-footer">
                <view class="date-info">
                  <text class="date-icon">ğŸ“…</text>
                  <text class="date-text">{{formatDate(item.create_time)}}</text>
                </view>
                <view class="action-hint">
                  <text>æŸ¥çœ‹è¯¦æƒ…</text>
                  <text class="arrow">â†’</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- åº•éƒ¨é—´è· -->
      <view style="height: 160rpx;"></view>
    </scroll-view>

    <!-- æ‚¬æµ®æ–°å»ºæŒ‰é’® -->
    <view class="fab-container">
      <button class="fab-btn" bindtap="onStartNewStory">
        <text class="fab-icon">+</text>
      </button>
      <text class="fab-label">æ–°å»ºå›å¿†å½•</text>
    </view>
  </view>
</view>
